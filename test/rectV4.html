<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>rect demo</title>
</head>
<style>
.axis path,
.axis line {
    fill: none;
    stroke: black;
    shape-rendering: crispEdges;
}

.axis text {
    font-family: sans-serif;
    font-size: 11px;
}
</style>

<body>
    <svg></svg>
    <script src="/js/d3.v4.min.js"></script>
    <script>
    var dataset = [1.2, 2.3, 0.9, 1.5, 3.3];
    var color = ["red", "blue", "green", "yellow", "black"];
    var rectHeight = 25;

    var linear = d3.scaleLinear()
        .domain([d3.min(dataset), d3.max(dataset)])
        .range([100, 300]);

    var color = d3.scaleOrdinal()
        .domain(dataset)
        .range(color)

    var svg = d3.select('svg')
        .attr('height', '600')
        .attr('weight', '500')

    svg.selectAll('rect')
        .data(dataset)
        .enter()
        .append('rect')
        .attr('x', 100)
        .attr('y', function(d, i) {
            return i * rectHeight + 100
        })
        .attr('height', function() {
            return rectHeight - 2
        })
        .attr('width', function(d) {
            return linear(d)
        })
        .attr('fill', function(d) {
            return color(d)
        })
    var axis = d3.axisBottom(linear)
        .ticks(6); //指定刻度的数量 设置的tick值必须是
    svg.append("g")
        .attr('class', 'axis')
        .attr("transform", "translate(0,230)")
        .call(axis);
    </script>
</body>

</html>